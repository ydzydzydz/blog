# #!MANAGED-CONFIG https://raw.githubusercontent.com/ydzydzydz/Rules/master/conf/zhuangzhuang/zhuangzhuang.conf interval=86400



#===============================================================================
# 如果需要托管本配置，请删掉第一行的注释『第一个#+空格』，托管配置24h更新一次
# Surge配置详解：https://zhuangzhuang.cf/2018-11-14/surge/
# 使用前须在 iCloud云盘/Surge/resources/policy 文件夹内创建 auto.list 和 all.list
# 初次导入本地list无效的解决办法：删掉Surge后台，再重新打开
# 壮壮不维护规则和脚本，所有规则和脚本都有出处
# 如果无法打开 GitHub，删掉主机名 github.com
#===============================================================================



#===============================================================================

# 高级设置
[General]

// Auto
# 日志等级: warning, notify, info, verbose (默认值: notify)
loglevel = notify

# 强制使用特定的DNS服务器
dns-server = system,1.1.1.1,1.0.0.1,1.2.4.8,223.5.5.5,223.6.6.6,114.114.114.114,119.29.29.29,117.50.10.10

# 跳过某个域名或者IP段
skip-proxy = 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,100.64.0.0/10,17.0.0.0/8,localhost,*.local,*.crashlytics.com

# 允许外部控制器访问Surge
external-controller-access = zz@0.0.0.0:12345

# Surge 作为 HTTP/SOCKS5 代理服务器向 Wi-Fi 网络下的其他设备提供服务器
allow-wifi-access = true



// macOS
interface = 0.0.0.0
socks-interface = 0.0.0.0

# HTTP 代理服务端口 (默认值: 6152)   (Mac版)
port = 8888

# SOCKS5 代理服务端口 (默认值: 6153) (Mac版)
socks-port = 8889

enhanced-mode-by-rule = false
show-error-page-for-reject = true



// iOS
# HTTP 代理服务端口 (默认值: 6152)   (iOS版)
wifi-access-http-port = 8888

# SOCKS5 代理服务端口 (默认值: 6152) (iOS版)
wifi-access-socks5-port = 8889



// Auto
# 兼容模式：禁用、Proxy with Loopback Address、Proxy Only、TUN Only（0、1、2、3）
compatibility-mode = 0

# 不包括简单主机名
exclude-simple-hostnames = true

# 是否启动完整的 IPv6 支持 (默认值: false)
ipv6 = true

replica = false
# 是否启动Network.framework (默认值: false)
network-framework = false

# INTERNET 测试 URL (使用网络诊断功能时访问的 URL)
internet-test-url = http://bing.com/

# 代理测速 URL (测试代理策略时的 URL)
proxy-test-url = http://bing.com/

# 测速超时 (秒)
test-timeout = 5

# 强制 TCP 连接为 HTTP 连接
force-http-engine-hosts = api.joybj.com,api.alsend.com,api.whizzone.com,api.4shade.com







#===============================================================================

# 该段定义抓取流量的过滤
[Replica]

# 隐藏所有发往 *.Apple.com 和 *.icloud.com 的请求（该选项只是在抓取结果中隐藏了请求）
hide-apple-request = true

# 隐藏Crashlytics请求
hide-crashlytics-request = true

# 隐藏UDP会话（默认值: false）
hide-udp = false

# 使用关键词过滤器（默认值: false）
use-keyword-filter = false











#===============================================================================

# 该段定义可用的代理策略
[Proxy]

# 别名策略
# 当请求为 HTTP 请求时返回一个极小的 GIF
# 🈚️ 替换 = reject-tinygif

# 阻止请求
# 🈲 拦截 = reject

# 不使用代理，直接连接
# 🈯️ 放行 = direct




# 代理服务器 (tcp = true,udp-relay = true,mptcp = true)
# 代理类型：HTTP
# ProxyA = http, [SERVER ADDRESS], [GENERATED PORT], username = [USERNAME], password = [PASSWORD]

# 代理类型：HTTPS
# ProxyHTTPS = https, [SERVER ADDRESS], [GENERATED PORT], username = [USERNAME], password = [PASSWORD]

# 代理类型：SOCKS5
# ProxyB = socks5, [SERVER ADDRESS], [GENERATED PORT], username = [USERNAME], password = [PASSWORD]

# 代理类型：SOCKS5 over TLS
# ProxyC = socks5-tls, [SERVER ADDRESS], [GENERATED PORT], username = [USERNAME], password = [PASSWORD], skip-common-name-verify=true

# 代理类型：Snell
# ProxyD = snell, [SERVER ADDRESS], [GENERATED PORT], psk=[GENERATED PSK], obfs=http

# 代理类型：Shadowsocks (旧版写法)
# ProxyE = custom, [SERVER ADDRESS], [GENERATED PORT], [ENCRYPT METHOD], [PASSWORD], https://raw.githubusercontent.com/ydzydzydz/Rules/master/SSEncrypt/SSEncrypt.module

# 代理类型：Shadowsocks (新版写法)
# ProxyF = ss, [SERVER ADDRESS], [GENERATED PORT], encrypt-method = [ENCRYPT METHOD], password = [PASSWORD]






#===============================================================================

# 该段定义可用的策略组
[Proxy Group]

🍃 Proxy = select, 🏃 Auto, 🛴 Fallback, 🛥 Select
🚦 Ad-Block = select, policy-path=https://raw.githubusercontent.com/ydzydzydz/Rules/master/conf/zhuangzhuang/proxy/ad.list,update-interval=300
🧭 Speedtest = select, 🛥 Select, 🍃 Proxy, 🚀 Direct
📡 AppleNews = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
🧾 AppleNews = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
🛩 Telegram = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
🐦 Twitter = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
👥 Facebook = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
🎬 Netflix = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
📺 YouTube = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
🎧 Spotify = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
🎶 SoundCloud = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
📻 BBC = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
🌁 Unsplash = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
💳 PayPal = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
🔍 Google = select, 🍃 Proxy, 🛥 Select, 🚀 Direct
🛒 Amazon = select, 🚀 Direct, 🛥 Select, 🍃 Proxy
🖥 Microsoft = select, 🚀 Direct, 🛥 Select, 🍃 Proxy
🍎 Apple = select, 🚀 Direct, 🛥 Select, 🍃 Proxy
👗 Bilibili = select, 🚀 Direct, 🛥 Select, 🍃 Proxy
🎮 Steam = select, 🚀 Direct, 🛥 Select, 🍃 Proxy
🍂 Domestic = select, 🚀 Direct, 🛥 Select, 🍃 Proxy
☁️ Final = select, 🚀 Direct, 🛥 Select, 🍃 Proxy




🚀 Direct= select, policy-path=https://raw.githubusercontent.com/ydzydzydz/Rules/master/conf/zhuangzhuang/proxy/direct.list,update-interval=300

# url-test: 具体哪个子策略将被使用, 通过测试到具体 URL 的访问速度选择
🏃 Auto = url-test, policy-path=resources/policy/auto.list, url = http://www.gstatic.com/generate_204, interval = 60,update-interval=300
// auto.list示例地址：https://raw.githubusercontent.com/ydzydzydz/Rules/master/proxy/auto.list

# fallback: 具体哪个子策略将被使用, 通过测试到具体 URL 的可用性决定
🛴 Fallback = fallback, policy-path=resources/policy/auto.list, url = http://www.gstatic.com/generate_204, interval = 60,update-interval=300
// auto.list示例地址：https://raw.githubusercontent.com/ydzydzydz/Rules/master/proxy/auto.list

# select: 具体哪个子策略将被使用, 由用户界面上进行选择
🛥 Select = select, policy-path=resources/policy/all.list,update-interval=300
// all.list示例地址：https://raw.githubusercontent.com/ydzydzydz/Rules/master/proxy/all.list

# ssid: 具体哪个子策略将被使用, 根据 Wi-FI 的 SSID 决定
// 🛸 SSID = ssid, default = 🏃 Auto, cellular = 🏃 Auto, "1" = 🏃 Auto, "2" = 🏃 Auto, "3" = 🏃 Auto

# 需搭配Clash使用，Clash配置中开启 allow-lan: true
🐱 Clash = select, policy-path=resources/policy/clash.list,update-interval=300
// clash.list示例地址：https://raw.githubusercontent.com/ydzydzydz/Rules/master/proxy/clash.list





#===============================================================================

# 规则定义部分
[Rule]

# 进入壮壮博客提醒
DOMAIN-SUFFIX, zhuangzhuang.cf,🚀 Direct, notification-text=ZHUANGZHUANG, notification-interval=10                                   // 进入壮壮博客提醒
# 从GitHub更新规则集提醒
URL-REGEX,^https?:\/\/raw\.githubusercontent\.com\/ydzydzydz\/.*\.list,🚀 Direct,notification-text="正在下载: ZHUANGZHUANG规则 😃",notification-interval=60          // 规则更新提醒
URL-REGEX,^https?:\/\/raw\.githubusercontent\.com\/lhie1\/.*\.list,🚀 Direct,notification-text="正在下载: lhie1规则 😃",notification-interval=60                     // 规则更新提醒
URL-REGEX,^https?:\/\/raw\.githubusercontent\.com\/scomper\/.*\.list,🚀 Direct,notification-text="正在下载: scomper规则 😃",notification-interval=60                 // 规则更新提醒
URL-REGEX,^https?:\/\/raw\.githubusercontent\.com\/ConnersHua\/.*\.list,🚀 Direct,notification-text="正在下载: ConnersHua规则 😃",notification-interval=60           // 规则更新提醒
URL-REGEX,https://raw.githubusercontent.com/(ydzydzydz|yichahucha|mieqq).*.js ,🚀 Direct,notification-text="正在下载: JavaScript脚本 😃",notification-interval=60     // 脚本更新提醒
AND,((DOMAIN,raw.githubusercontent.com), (USER-AGENT,Surge*)),🚀 Direct,notification-text="规则集更新",notification-interval=60                                       // 规则更新提醒



# 自定义规则
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/rule/mydirect.list,🚀 Direct,update-interval=300                                        // 自定义规则
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/rule/myreject.list,🚦 Ad-Block,update-interval=300                                       // 自定义规则
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/rule/mytingif.list,🚦 Ad-Block,update-interval=300                                       // 自定义规则
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/rule/myproxy.list,🍃 Proxy,update-interval=300                                          // 自定义规则




# 本地 RULESET
# RULE-SET,resources/ruleset/zhuangzhuang.list,🍃 Proxy,update-interval=300                                                                                 // 自定义规则




# 特殊代理
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/speedtest.list,🧭 Speedtest,update-interval=300                                  // Speedtest
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/applenews-region.list,📡 AppleNews,update-interval=300                          // AppleNews 地区限制
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/applenews.list,🧾 AppleNews,update-interval=300                                  // AppleNews
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/telegram.list,🛩 Telegram,update-interval=300                                    // Telegram
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/twitter.list,🐦 Twitter,update-interval=300                                     // Twitter
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/facebook.list,👥 Facebook,update-interval=300                                   // Facebook
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/netflix.list,🎬 Netflix,update-interval=300                                     // Netflix
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/youtube.list,📺 YouTube,update-interval=300                                     // YouTube
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/spotify.list,🎧 Spotify,update-interval=300                                     // Spotify
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/bbc.list,📻 BBC,update-interval=300                                             // BBC
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/paypal.list,💳 PayPal,update-interval=300                                       // PayPal
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/microsoft.list,🖥 Microsoft,update-interval=300                                  // Microsoft
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/google.list,🔍 Google,update-interval=300                                       // Google
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/amazon.list,🛒 Amazon,update-interval=300                                       // Amazon
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/unsplash.list,🌁 Unsplash,update-interval=300                                   // Unsplash
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/soundcloud.list,🎶 SoundCloud,update-interval=300                               // SoundCloud
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/bilibili.list,👗 Bilibili,update-interval=300                                   // Bilibili
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/special/steam.list,🎮 Steam,update-interval=300                                         // Steam



# lhie1规则
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge3/reject.list,🚦 Ad-Block,update-interval=300                                              // 广告
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge3/apple.list,🍎 Apple,update-interval=300                                                 // 苹果
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge3/domestic.list,🍂 Domestic,update-interval=300                                           // TeamViewer，Steam，12306。。。
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge3/asiantv.list,🍂 Domestic,update-interval=300                                            // Bilibili，IQIYI，letv。。。
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge3/globaltv.list,🍃 Proxy,update-interval=300                                              // Amazon Prime Video，BBC。。。
RULE-SET,https://raw.githubusercontent.com/lhie1/Rules/master/Surge3/proxy.list,🍃 Proxy,update-interval=300                                                 // Line，Microsoft，Amazon。。。



# Scomper规则
RULE-SET,https://raw.githubusercontent.com/scomper/surge-list/master/adblock.list,🚦 Ad-Block,update-interval=300                                             // 广告
RULE-SET,https://raw.githubusercontent.com/scomper/surge-list/master/reject.list,🚦 Ad-Block,update-interval=300                                              // 广告
RULE-SET,https://raw.githubusercontent.com/scomper/surge-list/master/apple.list,🍎 Apple,update-interval=300                                                 // 苹果
RULE-SET,https://raw.githubusercontent.com/scomper/surge-list/master/cn.list,🍂 Domestic,update-interval=300                                                 // 微信，QQ，淘宝，优酷。。。
RULE-SET,https://raw.githubusercontent.com/scomper/surge-list/master/video.list,🍃 Proxy,update-interval=300                                                 // Netflix，YouTube。。。
RULE-SET,https://raw.githubusercontent.com/scomper/surge-list/master/blocked.list,🍃 Proxy,update-interval=300                                               // Facebook，Google，Twitter。。。
RULE-SET,https://raw.githubusercontent.com/scomper/surge-list/master/telegram.list,🍃 Proxy,update-interval=300                                              // Telegram



# ConnersHua规则
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/Advertising.list,🚦 Ad-Block,update-interval=300                           // 去广告以及隐私追踪保护
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/Hijacking.list,🚦 Ad-Block,update-interval=300                             // 反运营商及臭名昭著的应用劫持保护
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/ForeignMedia.list,🍃 Proxy,update-interval=300                            // Youtube、Netflix、HBO、Hulu、BBC iPlayer。。。
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/DomesticMedia.list, 🍂 Domestic,update-interval=300                       // 媒体应用（愛奇藝台灣站）
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/Global.list,🍃 Proxy,update-interval=300                                  // 海外加速规则
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/Apple.list,🍎 Apple,update-interval=300                                   // 部分服务加速 App Store、Movies、Music、News 及海外版 Maps。。。
RULE-SET,https://raw.githubusercontent.com/ConnersHua/Profiles/master/Surge/Ruleset/China.list,🍂 Domestic,update-interval=300                                // 海内直连规则



# URL REJECT
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/resources/url_reject/lhie1_url_reject.list,🚦 Ad-Block,update-interval=300
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/resources/url_reject/connershua_url_reject.list,🚦 Ad-Block,update-interval=300
RULE-SET,https://raw.githubusercontent.com/ydzydzydz/Rules/master/resources/url_reject/onewayticket255_url_reject.list,🚦 Ad-Block,update-interval=300


# Surge规则
RULE-SET,SYSTEM,🚀 Direct                                                                                                                   // system
RULE-SET,LAN,🚀 Direct                                                                                                                      // 局域网
GEOIP,CN,🍂 Domestic                                                                                                                        // 国内IP
FINAL,☁️ Final,dns-failed                                                                                                                   // DNS 查询失败走 Final 规则









#===============================================================================

# 覆盖系统DNS，设置和配置本地DNS映射记录
[Host]

# 特定DNS服务器
// 淘宝
*.taobao.com = server:223.6.6.6

// 天猫
*.tmall.com = server:223.6.6.6

// 阿里云
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5

// 腾迅
*.tencent.com = server:119.28.28.28

// 腾讯QQ
*.qq.com = server:119.28.28.28

// 微信
*.weixin.com = server:119.28.28.28

// 京东
*.jd.com = server:119.28.28.28

// 哔哩哔喱
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29

// 网易
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29

// 小米
*.mi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29

// 百度
*.baidu.com = server:system
*.bdstatic.com = server:system


# 指定 IP 地址或另一个域名
// 远景论坛
*.pcbeta.com = 120.52.19.113
cdn.pcbeta.attachment.inimc.com = 120.52.19.113
cdn.pcbeta.static.inimc.com = 120.52.19.113
cdn.pcbeta.css.inimc.com = 120.52.19.113

// IPv6
ip6-localhost = ::1
ip6-loopback = ::1









#===============================================================================

# 该段定义针对 HTTP 请求的 URL 重定向规则
[URL Rewrite]

// YouTube 广告
^https?:\/\/.+\.googlevideo\.com\/.+&oad - reject
^https?:\/\/.+\.googlevideo\.com\/.+ctier - reject

// 石墨文档
^https?:\/\/shimo\.im\/api\/ads\?(.+) - reject

// Grape for GitHub
// 如果打不开GitHub，就删掉这一段，或者删掉主机名：github.com
^https:\/\/github\.com\/(?!.*users)(?!.*trending)(.+?)\/commit\/(.*)$ grape://commit?id=$2&reponame=$1 307
^https:\/\/github\.com\/(?!.*users)(?!.*trending)(.+?)\/pull\/(\d+)$ grape://pr?number=$2&reponame=$1 307
^https:\/\/github\.com\/(?!.*users)(?!.*trending)(.+?)\/issues\/(\d+)$ grape://issue?number=$2&reponame=$1 307
^https:\/\/github\.com\/(?!.*users)(?!.*trending)(.+?)\/pulls\/?$ grape://prs?reponame=$1 307
^https:\/\/github\.com\/(?!.*users)(?!.*trending)(.+?)\/issues\/?$ grape://issues?reponame=$1 307
^https:\/\/github\.com\/(?!.*users)(?!.*trending)([\u4E00-\u9FA5A-Za-z0-9._-]+)\/(?!.*blob)([\u4E00-\u9FA5A-Za-z0-9._-]+)(?!.*md)(?!.*png|jpg)$ grape://repo?reponame=$1/$2 307
^https:\/\/github\.com\/(?!.*users)(?!.*trending)([\u4E00-\u9FA5A-Za-z0-9._-]+)$ grape://user?login=$1 307

// 百度
^https?://www.baidu.com\/\?action=static&ms=1&version=css_page_2@0.* - reject

#===============================================================================

// 优酷
https?://ups.youku.com/(.*)needad=1& https?://ups.youku.com/$1needad=0& 302

// Google_Service_HTTPS_Jump
^https?:\/\/(www\.)?g\.cn https://www.google.com 302
^https?:\/\/(www\.)?google\.cn https://www.google.com 302

// Anti_ISP_JD_Hijack
^https?:\/\/coupon\.m\.jd\.com\/ https://coupon.m.jd.com/ 302
^https?:\/\/h5\.m\.jd\.com\/ https://h5.m.jd.com/ 302
^https?:\/\/item\.m\.jd\.com\/ https://item.m.jd.com/ 302
^https?:\/\/m\.jd\.com\/ https://m.jd.com/ 302
^https?:\/\/newcz\.m\.jd\.com\/ https://newcz.m.jd.com/ 302
^https?:\/\/p\.m\.jd\.com\/ https://p.m.jd.com/ 302
^https?:\/\/so\.m\.jd\.com\/ https://so.m.jd.com/ 302
^https?:\/\/union\.click\.jd\.com\/jda? http://union.click.jd.com/jda?adblock= header
^https?:\/\/union\.click\.jd\.com\/sem.php? http://union.click.jd.com/sem.php?adblock= header
^https?:\/\/www.jd.com\/ https://www.jd.com/ 302

// Anti_ISP_Taobao_Hijack
^https?:\/\/m\.taobao\.com\/ https://m.taobao.com/ 302

// Wiki
^https?:\/\/.+.(m\.)?wikipedia\.org/wiki http://www.wikiwand.com/en 302
^https?:\/\/zh.(m\.)?wikipedia\.org/(zh-hans|zh-sg|zh-cn|zh(?=/)) http://www.wikiwand.com/zh 302
^https?:\/\/zh.(m\.)?wikipedia\.org/zh-[a-zA-Z]{2,} http://www.wikiwand.com/zh-hant 302

// Other
^https?:\/\/cfg\.m\.ttkvod\.com\/mobile\/ttk_mobile_1.8\.txt http://ogtre5vp0.bkt.clouddn.com/Static/TXT/ttk_mobile_1.8.txt header
^https?:\/\/cnzz\.com\/ http://ogtre5vp0.bkt.clouddn.com/background.png? header
^https?:\/\/m\.qu\.la\/stylewap\/js\/wap\.js http://ogtre5vp0.bkt.clouddn.com/qu_la_wap.js 302
^https?:\/\/m\.yhd\.com\/1\/\? http://m.yhd.com/1/?adbock= 302
^https?:\/\/n\.mark\.letv\.com\/m3u8api\/ http://burpsuite.applinzi.com/Interface header
^https?:\/\/sqimg\.qq\.com\/ https://sqimg.qq.com/ 302
^https?:\/\/static\.m\.ttkvod\.com\/static_cahce\/index\/index\.txt http://ogtre5vp0.bkt.clouddn.com/Static/TXT/index.txt header
^https?:\/\/www\.iqshw\.com\/d\/js\/m http://burpsuite.applinzi.com/Interface header
^https?:\/\/www\.iqshw\.com\/d\/js\/m http://rewrite.websocket.site:10/Other/Static/JS/Package.js? header





#===============================================================================

# Redirect Google Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302

# Redirect HTTP to HTTPS
^https?:\/\/(www.)?taobao\.com\/ https://taobao.com/ 302
^https?:\/\/(www.)?jd\.com\/ https://www.jd.com/ 302
^https?:\/\/(www.)?mi\.com\/ https://www.mi.com/ 302
^https?:\/\/you\.163\.com\/ https://you.163.com/ 302
^https?:\/\/(www.)?suning\.com/ https://suning.com/ 302
^https?:\/\/(www.)?yhd\.com https://yhd.com/ 302

# Redirect False to True
# > IGN China to IGN Global
^https?:\/\/(www.)?ign\.xn--fiqs8s\/ http://cn.ign.com/ccpref/us 302
# > Fake Website Made By Makeding
^https?:\/\/(www.)?abbyychina\.com\/ http://www.abbyy.cn/ 302
^https?:\/\/(www.)?bartender\.cc\/ https://cn.seagullscientific.com 302
^https?:\/\/(www.)?betterzip\.net\/ https://macitbetter.com/ 302
^https?:\/\/(www.)?beyondcompare\.cc\/ https://www.scootersoftware.com/ 302
^https?:\/\/(www.)?bingdianhuanyuan\.cn\/ http://www.faronics.com/zh-hans/ 302
^https?:\/\/(www.)?chemdraw\.com\.cn\/ http://www.cambridgesoft.com/ 302
^https?:\/\/(www.)?codesoftchina\.com\/ https://www.teklynx.com/ 302
^https?:\/\/(www.)?coreldrawchina\.com\/ https://www.coreldraw.com/cn/ 302
^https?:\/\/(www.)?crossoverchina\.com\/ https://www.codeweavers.com/ 302
^https?:\/\/(www.)?easyrecoverychina\.com\/ https://www.ontrack.com/ 302
^https?:\/\/(www.)?ediuschina\.com\/ https://www.grassvalley.com/ 302
^https?:\/\/(www.)?flstudiochina\.com\/ https://www.image-line.com/flstudio/ 302
^https?:\/\/(www.)?formysql\.com\/ https://www.navicat.com.cn 302
^https?:\/\/(www.)?guitarpro\.cc\/ https://www.guitar-pro.com/ 302
^https?:\/\/(www.)?huishenghuiying\.com\.cn\/ https://www.corel.com/cn/ 302
^https?:\/\/(www.)?iconworkshop\.cn\/ https://www.axialis.com/iconworkshop/ 302
^https?:\/\/(www.)?imindmap\.cc\/ https://imindmap.com/zh-cn/ 302
^https?:\/\/(www.)?jihehuaban\.com\.cn\/ https://sketch.io/ 302
^https?:\/\/(www.)?keyshot\.cc\/ https://www.keyshot.com/ 302
^https?:\/\/(www.)?mathtype\.cn\/ http://www.dessci.com/en/products/mathtype/ 302
^https?:\/\/(www.)?mindmanager\.cc\/ https://www.mindjet.com/ 302
^https?:\/\/(www.)?mindmapper\.cc\/ https://mindmapper.com 302
^https?:\/\/(www.)?mycleanmymac\.com\/ https://macpaw.com/cleanmymac 302
^https?:\/\/(www.)?nicelabel\.cc\/ https://www.nicelabel.com/ 302
^https?:\/\/(www.)?ntfsformac\.cc\/ https://www.tuxera.com/products/tuxera-ntfs-for-mac-cn/ 302
^https?:\/\/(www.)?ntfsformac\.cn\/ https://www.paragon-software.com/ufsdhome/zh/ntfs-mac/ 302
^https?:\/\/(www.)?overturechina\.com\/ https://sonicscores.com/overture/ 302
^https?:\/\/(www.)?passwordrecovery\.cn\/ https://cn.elcomsoft.com/aopr.html 302
^https?:\/\/(www.)?pdfexpert\.cc\/ https://pdfexpert.com/zh 302
^https?:\/\/(www.)?ultraiso\.net\/ https://cn.ezbsystems.com/ultraiso/ 302
^https?:\/\/(www.)?vegaschina\.cn\/ https://www.vegas.com/ 302
^https?:\/\/(www.)?xmindchina\.net\/ https://www.xmind.cn/ 302
^https?:\/\/(www.)?xshellcn\.com\/ https://www.netsarang.com/products/xsh_overview.html 302
^https?:\/\/(www.)?yuanchengxiezuo\.com\/ https://www.teamviewer.com/zhcn/ 302
^https?:\/\/(www.)?zbrushcn\.com\/ http://pixologic.com/ 302






#===============================================================================

# 重定向 HTTP 请求或者篡改请求 Header
[Header Rewrite]

// 百度
^*.bdimg.com header-del Referer

// 腾讯
^*.qpic.cn header-replace User-Agent WeChat/6.5.22.32 CFNetwork/889.9 Darwin/17.2.0
^*.qpic.cn header-del Referer

// 网易
^*.ph.126.net header-del Referer

// 知乎
^*.zhimg.com header-del Referer

// 中文业界资讯站
^*.cnbetacdn.com header-del Referer

// 至顶网
^*.zhiding.cn header-del Referer

// C114通信网
^*.c114.com.cn header-del Referer

// 笔趣阁
^https?://www.biquge.com.tw header-del Cookie

// 知乎
^https?://www.zhihu.com/question/ header-replace User-Agent Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.45 Safari/537.36







#===============================================================================

[SSID Setting]

# 连接到WiFi名为“wifi-name”时停止Surge
"wifi-name" suspend=true









#===============================================================================

# Surge可以通过MitM解密HTTPS通信
[MITM]

# 是否跳过服务端证书验证
skip-server-cert-verify = true

# 是否用于TCP连接
tcp-connection = false

# 自动旁路
auto-bypass = on

# 主机名
hostname = *.uve.weibo.com, app.bilibili.com, api.bilibili.com, i.weiread.qq.com, api.rr.tv, raw.githubusercontent.com, googlevideo.com, *.googlevideo.com, github.com, shimo.im, www.baidu.com, *.zymk.cn, *.cnbetacdn.com, *.doubanio.com, *.iydsj.com, *.pstatp.com, *.ydstatic.com, *.youtube.com, 101.201.62.22, 113.105.222.132, 113.96.109.*, 118.178.214.118, 121.14.89.216, 121.9.212.178, 14.21.76.30, 183.232.237.194, 183.232.246.225, 183.60.159.227, 59.37.96.220, 789.kakamobi.cn, a.applovin.com, aarkissltrial.secure2.footprint.net, acs.m.taobao.com, activity2.api.ofo.com, adm.10jqka.com.cn, adproxy.autohome.com.cn, afd.baidu.com, api.app.vhall.com, api.chelaile.net.cn, api.douban.com, api.feng.com, api.fengshows.com, api.gotokeep.com, api.huomao.com, api.jr.mi.com, api.k.sohu.com, api.kkmh.com, api.laifeng.com, api.m.jd.com, api.m.mi.com, api.mddcloud.com.cn, api.smzdm.com, api.tv.sohu.com, api.weibo.cn, api.xiachufang.com, api.zhihu.com, api5.futunn.com, api-mifit.huami.com, api-mifit-cn.huami.com, app.10086.cn, app.m.zj.chinamobile.com, app.wy.guahao.com, app2.autoimg.cn, appsdk.soku.com, atrace.chelaile.net.cn, c.m.163.com, capi.douyucdn.cn, capi.mwee.cn, cdn.kuaidi100.com, cdn.moji.com, classbox2.kechenggezi.com, client.mail.163.com, connect.facebook.net, consumer.fcbox.com, creatives.ftimg.net, d.1qianbao.com, daoyu.sdo.com, dapis.mting.info, dl.app.gtja.com, dongfeng.alicdn.com, dsp-impr2.youdao.com, e.dangdang.com, erebor.douban.com, fm.fenqile.com, frodo.douban.com, fuss10.elemecdn.com, g1.163.com, gorgon.youdao.com, hm.xiaomi.com, hui.sohu.com, huichuan.sm.cn, i1.hoopchina.com.cn, iface.iqiyi.com, iface2.iqiyi.com, img.jiemian.com, img.zuoyebang.cc, img01.10101111cdn.com, img1.126.net, img1.doubanio.com, img3.doubanio.com, impservice.dictapp.youdao.com, impservice.youdao.com, interface.music.163.com, ios.wps.cn, kano.guahao.cn, lf.snssdk.com, lives.l.qq.com, m.aty.sohu.com, m.client.10010.com, m.ibuscloud.com, m.yap.yahoo.com, m5.amap.com, ma.ofo.com, mage.if.qidian.com, mapi.appvipshop.com, mbl.56.com, mimg.127.net, mlife.cmbchina.com, mmg.aty.sohu.com, mmgr.gtimg.com, mp.weixin.qq.com, ms.jr.jd.com, nex.163.com, oimagea4.ydstatic.com, oimagec2.ydstatic.com, p.kuaidi100.com, p1.music.126.net, pic.k.sohu.com, pic1.chelaile.net.cn, pic1cdn.cmbchina.com, pic2.zhimg.com, r.inews.qq.com, resource.cmbchina.com, ress.dxpmedia.com, rm.aarki.net, rtbapi.douyucdn.cn, service.4gtv.tv, smkmp.96225.com, sso.ifanr.com, static.api.m.panda.tv, static1.keepcdn.com, staticlive.douyucdn.cn, storage.wax.weibo.com, supportda.ofo.com, ups.youku.com, wapwenku.baidu.com, wenku.baidu.com, www.facebook.com, www.ft.com, www.oschina.net, www.zhihu.com, youtubei.googleapis.com



enable = true

# P12密码
ca-passphrase = EDD5D068

# base64编码过的P12文件
ca-p12 = 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





#===============================================================================

# 使用Surge Mac作为Snell代理服务器        （从3.1.0版本开始）
[Snell Server]

# interface = 0.0.0.0
# port = 6160
# psk = RANDOM_KEY_HERE
# obfs = off










#===============================================================================

# 使用 JavaScript 来对 response body 进行修改
[Script]

# 去微博应用内广告
http-response ^https?:\/\/api\.weibo\.cn\/2(\/groups\/timeline|\/statuses\/unread|\/statuses\/extend|\/comments\/build_comments|\/photo\/recommend_list|\/stories\/video_stream|\/statuses\/positives\/get|\/stories\/home_list|\/profile\/statuses|\/statuses\/friends\/timeline) script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_ad.js

# 微博启动页广告
http-response ^https?:\/\/(sdk|wb)app\.uve\.weibo\.com(\/interface\/sdk\/sdkad.php|\/wbapplua\/wbpullad.lua) script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_launch.js

# 酷我音乐
http-response ^https?://vip1\.kuwo\.cn/vip/ script-path=https://raw.githubusercontent.com/ydzydzydz/Rules/master/resources/js/Music.js

# 去微信广告
http-response ^https?://mp\.weixin\.qq\.com/ script-path=https://raw.githubusercontent.com/ydzydzydz/Rules/master/resources/js/WeChat.js

# 微信读书小程序
http-response ^https?://i\.weread\.qq\.com/pay/memberCard script-path=https://raw.githubusercontent.com/ydzydzydz/Rules/master/resources/js/WeRead.js

# RRtv
http-response ^https?://api\.rr\.tv/ script-path=https://raw.githubusercontent.com/ydzydzydz/Rules/master/resources/js/RRtv.js

# 知音漫客
http-response ^https?://getuserinfo-globalapi.zymk.cn script-path=https://raw.githubusercontent.com/mieqq/mieqq/master/zymk.js

# 知乎去广告
http-response https://api.zhihu.com/topstory/follow script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20feed.js
http-response https://api.zhihu.com/topstory/recommend script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20recommend.js
http-response https://api.zhihu.com/v4/questions script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20answer.js
http-response https://api.zhihu.com/market/header script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20zhihu%20market.js

# bilibili概念版去广告
http-response https://app.bilibili.com/x/resource/show/tab script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20tab.js
http-response https://app.bilibili.com/x/channel/list script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20channel.js
http-response https://app.bilibili.com/x/v2/feed script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20feed.js
http-response https://app.bilibili.com/x/v2/account/mine script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20account.js
http-response https://app.bilibili.com/x/v2/view.access_key script-path=https://raw.githubusercontent.com/onewayticket255/Surge-Script/master/surge%20bilibili%20view%20relate.js
